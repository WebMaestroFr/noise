(this.webpackJsonpnoise=this.webpackJsonpnoise||[]).push([[0],{104:function(e,t,n){},130:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(9),i=n.n(r),s=(n(104),n(11)),u=n(8),o=n(17),l=n(46),b=n(5),j=["onUpdate"],d=function(e){var t=e.onUpdate,n=Object(o.a)(e,j),a=function(e){var t=Object(c.useRef)(null),n=Object(c.useCallback)((function(){var e=t.current;return e?e.getContext("2d"):null}),[]);return Object(c.useEffect)((function(){var t,c=n(),a=0;return function n(){a++,c&&e&&e(c,a),t=window.requestAnimationFrame(n)}(),function(){window.cancelAnimationFrame(t)}}),[n,e]),t}(t);return Object(b.jsx)("canvas",Object(u.a)({ref:a},n))},O={noise:{layers:[{scale:12,speed:.2,seed:"1"},{scale:24,speed:.2,seed:"2"},{scale:96,speed:.2,seed:"3"}],resolution:1/4}},f=Object(c.createContext)(O),h=function(){return Object(c.useContext)(f)},v=["width","height"];function m(e){var t=(e+1)/2,n=Math.round(255*t);return[n,n,n,255]}var p=function(e){var t=e.width,n=e.height,a=Object(o.a)(e,v),r=h().noise,i=r.layers,j=r.resolution,O=Math.round(t*j),f=Math.round(n*j),p=function(e,t){var n=Object(c.useMemo)((function(){return new ImageData(e,t)}),[e,t]);return Object(c.useCallback)((function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=e.map((function(e){var t=e.seed;return new l.a(t)})),a=function(a){for(var r=function(r){var i=m(e.reduce((function(n,i,s){var u=i.scale,o=i.speed;return n+c[s].noise3D(a/u,r/u,t*o)/e.length}),0)),u=Object(s.a)(i,4),o=u[0],l=u[1],b=u[2],j=u[3],d=r*(4*n.width)+4*a;n.data[d+0]=o,n.data[d+1]=l,n.data[d+2]=b,n.data[d+3]=j},i=0;i<n.height;i+=1)r(i)},r=0;r<n.width;r+=1)a(r);return n}),[n])}(O,f),x=Object(c.useCallback)((function(e){var t=Date.now()/1e3,n=p(i,t);e.putImageData(n,0,0)}),[p,i]);return Object(b.jsx)(d,Object(u.a)({className:"Noise",onUpdate:x,width:O,height:f,style:{width:t,height:n}},a))},x=n(18),g=n(134),w=function(e){var t=e.onUpdate,n=e.settings,a=n.layers,r=n.resolution,i=Object(c.useCallback)((function(e){return function(n){var c=n.currentTarget.value;t((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(x.a)({},e,c))}))}}),[t]),s=Object(c.useCallback)((function(e){return function(n){t((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(x.a)({},e,n))}))}}),[t]),o=Object(c.useCallback)((function(e,n){return function(c){t((function(t){return t.layers[e]=Object(u.a)(Object(u.a)({},t.layers[e]),{},Object(x.a)({},n,c)),Object(u.a)({},t)}))}}),[t]),l=Object(c.useCallback)((function(){t((function(e){return e.layers.push({scale:1,seed:"",speed:0}),Object(u.a)({},e)}))}),[t]),j=Object(c.useCallback)((function(e){return function(){t((function(t){return t.layers.splice(e,1),Object(u.a)(Object(u.a)({},t),{},{layers:t.layers})}))}}),[t]);return Object(b.jsxs)("form",{className:"NoiseForm",children:[Object(b.jsx)(g.b,{className:"NoiseForm-resolution",label:"Resolution",children:Object(b.jsx)(g.d,{fill:!0,min:.01,max:1,minorStepSize:null,onValueChange:s("resolution"),stepSize:.01,value:r})}),a.map((function(e,t){var n=e.scale,c=e.seed,r=e.speed;return Object(b.jsxs)("div",{className:"NoiseForm-layer",children:[Object(b.jsx)(g.b,{className:"NoiseForm-layer-seed",label:"Seed",children:Object(b.jsx)(g.c,{defaultValue:c,fill:!0,onChange:i("seed")})}),Object(b.jsx)(g.b,{className:"NoiseForm-layer-scale",label:"Scale",children:Object(b.jsx)(g.e,{labelStepSize:11,max:100,min:1,onChange:o(t,"scale"),stepSize:1,value:n})}),Object(b.jsx)(g.b,{className:"NoiseForm-layer-speed",label:"Speed",children:Object(b.jsx)(g.e,{labelStepSize:.2,max:1,min:0,onChange:o(t,"speed"),stepSize:.01,value:r})}),Object(b.jsx)(g.a,{onClick:j(t),children:"Remove Layer"})]},"".concat(t,"-").concat(a.length))})),Object(b.jsx)(g.a,{onClick:l,children:"Add Layer"})]})},C=["children"];var S=function(e){var t=e.children,n=Object(o.a)(e,C),a=function(e,t){var n=Object(c.useState)(e),a=Object(s.a)(n,2),r=a[0],i=a[1],u=Object(c.useState)(e),o=Object(s.a)(u,2),l=o[0],b=o[1];return Object(c.useEffect)((function(){var e=setTimeout((function(){b(r)}),t);return function(){clearTimeout(e)}}),[r,t]),[l,r,i]}(O.noise,200),r=Object(s.a)(a,3),i=r[0],l=r[1],j=r[2];return Object(b.jsxs)(f.Provider,Object(u.a)(Object(u.a)({value:{noise:i}},n),{},{children:[t,Object(b.jsx)("div",{className:"Settings",children:Object(b.jsx)(w,{onUpdate:j,settings:l})})]}))},y=function(){return[window.innerWidth,window.innerHeight]};var N=function(){var e=Object(c.useState)(y),t=Object(s.a)(e,2),n=Object(s.a)(t[0],2),a=n[0],r=n[1],i=t[1],u=Object(c.useCallback)((function(){return i(y)}),[]);return Object(c.useEffect)((function(){return window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}}),[u]),Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(S,{children:Object(b.jsx)(p,{width:a,height:r})})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,135)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root")),k()}},[[130,1,2]]]);
//# sourceMappingURL=main.783fe2e4.chunk.js.map